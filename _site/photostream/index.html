<!doctype html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Photo Stream | Minnong's blog</title>
    <meta name="description" content="Welcome! Minnong's blog" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Photo Stream | Minnong's blog" />
    <meta property="og:description" content="Welcome! Minnong's blog" />
    <meta property="og:url" content="http://localhost:4000/photostream/" />
    <meta property="og:image" content="http://localhost:4000/assets/base_image/image.png" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.6.0/fonts/remixicon.css" rel="stylesheet" />
    <link rel="stylesheet" href="/assets/css/home-mag.css?v=2" />
  </head>
  <body id="home" class="page-transition is-preload photo-immersive" data-baseurl="">
    

    <main class="main page-main">
      <section class="section">
        <div class="container">
          <article class="page-panel">
            
            <div class="page-content">
              
<div id="photoArchiveApp" class="photo-archive-app">
  <header class="photo-page-header">
    <div class="container">
      <div class="photo-page-header-tools">
        <button class="photo-page-home" id="photoBackPageButton" type="button" aria-label="Back to home">
          <i class="ri-arrow-left-line"></i>
        </button>
      </div>
      <h1 class="photo-page-header-title">
        <button class="photo-page-title-button" id="photoTopButton" type="button" aria-label="Back to top">MINNONG PHOTO</button>
      </h1>
    </div>
  </header>

  <div class="photo-home-list-wrap">
    <div class="photo-archive-grid" id="photoAlbumGrid"></div>
  </div>
</div>

<script id="photoArchiveData" type="application/json">
[

  { "id": 1, "url": "https://images.unsplash.com/photo-1431274172761-fca41d930114?auto=format&fit=crop&w=1400&q=80", "album": "Paris", "caption": "Eiffel Tower at sunset", "modified": 1734566400 },
  { "id": 2, "url": "https://images.unsplash.com/photo-1695306812834-7f7ccc0e1140?auto=format&fit=crop&w=1400&q=80", "album": "Paris", "caption": "Cafe in Paris", "modified": 1734652800 },
  { "id": 3, "url": "https://images.unsplash.com/photo-1707952189186-8694f03529f7?auto=format&fit=crop&w=1400&q=80", "album": "Paris", "caption": "Louvre details", "modified": 1734739200 },
  { "id": 4, "url": "https://images.unsplash.com/photo-1617581219723-68d352f989e7?auto=format&fit=crop&w=1400&q=80", "album": "Tokyo", "caption": "Shibuya crossing", "modified": 1734825600 },
  { "id": 5, "url": "https://images.unsplash.com/photo-1641385511718-d736d65e6d04?auto=format&fit=crop&w=1400&q=80", "album": "Tokyo", "caption": "Temple morning light", "modified": 1734912000 },
  { "id": 6, "url": "https://images.unsplash.com/photo-1614932750312-440cdfc45fea?auto=format&fit=crop&w=1400&q=80", "album": "Tokyo", "caption": "Cherry blossom season", "modified": 1734998400 },
  { "id": 7, "url": "https://images.unsplash.com/photo-1573481726566-9d98bb795fff?auto=format&fit=crop&w=1400&q=80", "album": "Santorini", "caption": "Blue domes and sea", "modified": 1735084800 },
  { "id": 8, "url": "https://images.unsplash.com/photo-1656677476420-7159cac2366a?auto=format&fit=crop&w=1400&q=80", "album": "Santorini", "caption": "Sunset in Oia", "modified": 1735171200 },
  { "id": 9, "url": "https://images.unsplash.com/photo-1536011251940-0f9e91890ec5?auto=format&fit=crop&w=1400&q=80", "album": "Santorini", "caption": "White-washed houses", "modified": 1735257600 },
  { "id": 10, "url": "https://images.unsplash.com/photo-1514565131-fce0801e5785?auto=format&fit=crop&w=1400&q=80", "album": "New York", "caption": "Skyline at dusk", "modified": 1735344000 },
  { "id": 11, "url": "https://images.unsplash.com/photo-1595901688281-9cef114adb0b?auto=format&fit=crop&w=1400&q=80", "album": "New York", "caption": "Times Square neon", "modified": 1735430400 },
  { "id": 12, "url": "https://images.unsplash.com/photo-1568515387631-8b650bbcdb90?auto=format&fit=crop&w=1400&q=80", "album": "New York", "caption": "Central Park autumn", "modified": 1735516800 }

]
</script>

<script>
  (function () {
    var app = document.getElementById("photoArchiveApp");
    var dataEl = document.getElementById("photoArchiveData");
    if (!app || !dataEl) return;

    var photos = [];
    try {
      photos = JSON.parse(dataEl.textContent || "[]");
    } catch (e) {
      photos = [];
    }

    var albumGrid = document.getElementById("photoAlbumGrid");
    var backPageButton = document.getElementById("photoBackPageButton");
    var topButton = document.getElementById("photoTopButton");
    var detailRootUrl = "/photostream/post/";

    function toTitleCase(text) {
      return (text || "").replace(/\w\S*/g, function (word) {
        return word.charAt(0).toUpperCase() + word.slice(1).toLowerCase();
      });
    }

    function escapeHtml(text) {
      return String(text || "")
        .replace(/&/g, "&amp;")
        .replace(/</g, "&lt;")
        .replace(/>/g, "&gt;")
        .replace(/\"/g, "&quot;")
        .replace(/'/g, "&#39;");
    }

    function slugify(text) {
      return String(text || "")
        .trim()
        .toLowerCase()
        .replace(/[_\s]+/g, "-")
        .replace(/[^a-z0-9-]/g, "-")
        .replace(/-+/g, "-")
        .replace(/^-|-$/g, "");
    }

    function parseAlbumMeta(albumName, albumPhotos) {
      var raw = String(albumName || "");
      var compact = raw.replace(/[_\s]+/g, "-");
      var match = compact.match(/^(\d{4})[-.]?(\d{2})[-.]?(\d{2})-(.+)$/);
      var latestTs = 0;

      (albumPhotos || []).forEach(function (photo) {
        var ts = parseInt(photo.modified, 10);
        if (!isNaN(ts) && ts > latestTs) latestTs = ts;
      });

      if (match) {
        var dateText = match[1] + "." + match[2] + "." + match[3];
        var locationText = toTitleCase(match[4].replace(/[-_]+/g, " "));
        return {
          title: locationText,
          date: dateText,
          timestamp: latestTs || Date.UTC(Number(match[1]), Number(match[2]) - 1, Number(match[3])) / 1000
        };
      }

      var fallback = latestTs ? new Date(latestTs * 1000) : new Date();
      var y = fallback.getFullYear();
      var m = String(fallback.getMonth() + 1).padStart(2, "0");
      var d = String(fallback.getDate()).padStart(2, "0");

      return {
        title: toTitleCase(raw.replace(/[-_]+/g, " ")),
        date: y + "." + m + "." + d,
        timestamp: latestTs || 0
      };
    }

    var albums = Object.keys(
      photos.reduce(function (acc, photo) {
        acc[photo.album] = true;
        return acc;
      }, {})
    ).map(function (albumName, index) {
      var albumPhotos = photos.filter(function (photo) { return photo.album === albumName; });
      var meta = parseAlbumMeta(albumName, albumPhotos);
      var slug = slugify(albumName) || ("album-" + String(index + 1));
      var displayDate = slug === "santorini" ? "12.27 ~ 12.31" : meta.date;
      return {
        slug: slug,
        title: meta.title,
        date: displayDate,
        coverImage: albumPhotos[0] ? albumPhotos[0].url : "",
        description: albumPhotos[0] && albumPhotos[0].caption ? albumPhotos[0].caption : "필름 사진 기록",
        timestamp: meta.timestamp
      };
    }).sort(function (a, b) {
      return (b.timestamp || 0) - (a.timestamp || 0);
    });

    function renderAlbums() {
      if (!albumGrid) return;
      albumGrid.innerHTML = "";

      albums.forEach(function (album) {
        var card = document.createElement("button");
        card.className = "photo-album-card";
        card.type = "button";
        card.innerHTML =
          '<div class="photo-album-cover"><img loading="lazy" src="' + album.coverImage + '" alt="' + escapeHtml(album.title) + '">' +
          '<div class="photo-album-card-meta">' +
            '<h3 class="photo-album-card-title">' + escapeHtml(album.title) + '</h3>' +
            '<p class="photo-album-date">' + escapeHtml(album.date) + '</p>' +
            '<p class="photo-album-card-description">' + escapeHtml(album.description) + '</p>' +
          '</div>' +
          '</div>';

        card.addEventListener("click", function () {
          try { sessionStorage.setItem("photo_album_list_scroll", String(window.scrollY || window.pageYOffset || 0)); } catch (e) {}
          window.location.href = detailRootUrl + "?album=" + encodeURIComponent(album.slug);
        });
        albumGrid.appendChild(card);
      });
    }

    function syncPhotoStreamHeaderState() {
      var y = window.scrollY || window.pageYOffset || 0;
      var isScrolled = document.body.classList.contains("is-scrolled");
      var enterThreshold = 160;
      var leaveThreshold = 72;

      if (!isScrolled && y > enterThreshold) {
        document.body.classList.add("is-scrolled");
      } else if (isScrolled && y < leaveThreshold) {
        document.body.classList.remove("is-scrolled");
      }
    }

    if (topButton) {
      topButton.addEventListener("click", function () {
        window.scrollTo({ top: 0, behavior: "smooth" });
      });
    }

    if (backPageButton) {
      backPageButton.addEventListener("click", function () {
        window.location.href = "/";
      });
    }

    renderAlbums();
    window.addEventListener("scroll", syncPhotoStreamHeaderState, { passive: true });
    syncPhotoStreamHeaderState();

    try {
      var savedY = parseInt(sessionStorage.getItem("photo_album_list_scroll") || "", 10);
      if (!isNaN(savedY) && savedY > 0) {
        window.scrollTo(0, savedY);
      }
      sessionStorage.removeItem("photo_album_list_scroll");
    } catch (e) {}
  })();
</script>


            </div>
          </article>
        </div>
      </section>
    </main>

    
      <footer class="footer">
  <div class="container">
    <div class="columns footer-columns">
      <div class="column">
        <div class="footer-logo">Minnong's blog</div>
      </div>
      <div class="column"></div>
      <div class="column">
        <ul class="list">
          <li>운영자: Min Hyeong Lee</li>
          <li>Based in Seoul</li>
          <li>Contact: kzxx1234@gmail.com</li>
        </ul>
      </div>
      <div class="column">
        <ul class="list">
          <li>개인 포트폴리오 &amp; 블로그</li>
          <li>Photo / Travel / Engineering</li>
        </ul>
      </div>
    </div>
    <div class="columns footer-bottom">
      <div class="column">
        <p>© 2026 Minnong blog</p>
      </div>
      <div class="column social">
        <a href="https://instagram.com/minnong511" target="_blank" rel="noreferrer"><i class="ri-instagram-fill"></i></a>
        <a href="https://github.com/minnong511" target="_blank" rel="noreferrer"><i class="ri-github-fill"></i></a>
        <a href="https://www.linkedin.com/in/min-hyeong-lee-225294270/" target="_blank" rel="noreferrer"><i class="ri-linkedin-box-fill"></i></a>
      </div>
    </div>
  </div>
</footer>

    

    
    <script>
      var menuLayer = document.getElementById('menuLayer');
      var menuButton = document.querySelector('.toggle-nav');

      if (menuButton && menuLayer) {
        menuButton.addEventListener('click', function () {
          menuLayer.classList.toggle('is-hidden');
        });
      }

      function syncHeaderScrollState() {
        var y = window.scrollY || window.pageYOffset || 0;
        var isScrolled = document.body.classList.contains('is-scrolled');
        var enterThreshold = 180;
        var leaveThreshold = 80;

        if (!isScrolled && y > enterThreshold) {
          document.body.classList.add('is-scrolled');
        } else if (isScrolled && y < leaveThreshold) {
          document.body.classList.remove('is-scrolled');
        }
      }
      

      requestAnimationFrame(function () {
        document.body.classList.remove('is-preload');
      });

      document.addEventListener('click', function (event) {
        if (event.defaultPrevented) return;
        if (event.button !== 0) return;
        if (event.metaKey || event.ctrlKey || event.shiftKey || event.altKey) return;

        var link = event.target.closest('a[href]');
        if (!link) return;
        if (link.hasAttribute('download')) return;
        if (link.target && link.target !== '_self') return;

        var href = link.getAttribute('href');
        if (!href || href.charAt(0) === '#') return;
        if (/^(mailto:|tel:|javascript:)/i.test(href)) return;

        var url;
        try {
          url = new URL(link.href, window.location.href);
        } catch (e) {
          return;
        }

        if (url.origin !== window.location.origin) return;
        if (url.pathname === window.location.pathname && url.search === window.location.search) return;

        event.preventDefault();
        document.body.classList.add('is-leaving');
        setTimeout(function () {
          window.location.href = url.href;
        }, 120);
      });
    </script>
  </body>
</html>
